Summary. Erds and Rényi showed the paradoxical result that there is a unique (and highly symmetric) countably infinite random graph. This graph, and its automorphism group, form the subject of the present survey.

Introduction

In 1963, Erds and Rényi [\cite=ch32:bib18] showed:

There exists a graph R with the following property. If a countable graph is chosen at random, by selecting edges independently with probability [formula] from the set of 2-element subsets of the vertex set, then almost surely (i.e., with probability 1), the resulting graph is isomorphic to R.

This theorem, on first acquaintance, seems to defy common sense -- a random process whose outcome is predictable. Nevertheless, the argument which establishes it is quite short. (It is given below.) Indeed, it formed a tailpiece to the paper of Erds and Rényi, which mainly concerned the much less predictable world of finite random graphs. (In their book Probabilistic Methods in Combinatorics, Erds and Spencer [\cite=ch32:bib19] remark that this result "demolishes the theory of infinite random graphs.")

I will give the proof in detail, since it underlies much that follows. The key is to consider the following property, which a graph may or may not have:

Given finitely many distinct vertices [formula], there exists a vertex z which is adjacent to [formula] and nonadjacent to [formula].

Often I will say, for brevity, "z is correctly joined". Obviously, a graph satisfying ([formula]) is infinite, since z is distinct from all of [formula]. It is not obvious that any graph has this property. The theorem follows from two facts:

With probability 1, a countable random graph satisfies ([formula]).

Any two countable graphs satisfying ([formula]) are isomorphic.

We have to show that the event that ([formula]) fails has probability 0, i.e., the set of graphs not satisfying ([formula]) is a null set. For this, it is enough to show that the set of graphs for which ([formula]) fails for some given vertices [formula] is null. (For this deduction, we use an elementary lemma from measure theory: the union of countably many null sets is null. There are only countably many values of m and n, and for each pair of values, only countably many choices of the vertices [formula].) Now we can calculate the probability of this set. Let [formula] be vertices distinct from [formula]. The probability that any zi is not correctly joined is [formula]; since these events are independent (for different zi), the probability that none of [formula] is correctly joined is [formula]. This tends to 0 as N  →    ∞  ; so the event that no vertex is correctly joined does have probability 0.

Note that, at this stage, we know that graphs satisfying ([formula]) exist, though we have not constructed one -- a typical "probabilistic existence proof". Note also that "probability [formula]" is not essential to the proof; the same result holds if edges are chosen with fixed probability p, where 0  <  p  <  1. Some variation in the edge probability can also be permitted.

Let Γ1 and Γ2 be two countable graphs satisfying ([formula]). Suppose that f is a map from a finite set [formula] of vertices of Γ1 to Γ2, which is an isomorphism of induced subgraphs, and xn + 1 is another vertex of Γ1. We show that f can be extended to xn + 1. Let U be the set of neighbours of xn + 1 within [formula], and [formula]. A potential image of xn + 1 must be a vertex of Γ2 adjacent to every vertex in f(U) and nonadjacent to every vertex in f(V). Now property ([formula]) (for the graph Γ2) guarantees that such a vertex exists.

Now we use a model-theoretic device called "back-and-forth". (This is often attributed to Cantor [\cite=ch32:bib11], in his characterization of the rationals as countable dense ordered set without endpoints. However, as Plotkin [\cite=ch32:bib41] has shown, it was not used by Cantor; it was discovered by Huntington [\cite=ch32:bib32] and popularized by Hausdorff [\cite=ch32:bib25].)

Enumerate the vertices of Γ1 and Γ2, as [formula] and [formula] respectively. We build finite isomorphisms fn as follows. Start with [formula]. Suppose that fn has been constructed. If n is even, let m be the smallest index of a vertex of Γ1 not in the domain of fn; then extend fn (as above) to a map fn + 1 with xm in its domain. (To avoid the use of the Axiom of Choice, select the correctly-joined vertex of Γ2 with smallest index to be the image of xm.) If n is odd, we work backwards. Let m be the smallest index of a vertex of Γ2 which is not in the range of fn; extend fn to a map fn + 1 with ym in its range (using property ([formula]) for Γ1).

Take f to be the union of all these partial maps. By going alternately back and forth, we guaranteed that every vertex of Γ1 is in the domain, and every vertex of Γ2 is in the range, of f. So f is the required isomorphism.

The graph R holds as central a position in graph theory as [formula] does in the theory of ordered sets. It is surprising that it was not discovered long before the 1960s! Since then, its importance has grown rapidly, both in its own right, and as a prototype for other theories.

Results of Shelah and Spencer [\cite=ch32:bib47] and Hrushovski [\cite=ch32:bib31] suggest that there are interesting countable graphs which "control" the first-order theory of finite random graphs whose edge-probabilities tend to zero in specified ways. See Wagner [\cite=ch32:bib54], Winkler [\cite=ch32:bib55] for surveys of this.

Some constructions

Erds and Rényi did not feel it necessary to give an explicit construction of R; the fact that almost all countable graphs are isomorphic to R guarantees its existence. Nevertheless, such constructions may tell us more about R. Of course, to show that we have constructed R, it is necessary and sufficient to verify condition ([formula]).

I begin with an example from set theory. The downward Löwenheim-Skolem theorem says that a consistent first-order theory over a countable language has a countable model. In particular, there is a countable model of set theory (the Skolem paradox).

Let M be a countable model of set theory. Define a graph [formula] by the rule that x  ~  y if and only if either x∈y or y∈x. Then [formula] is isomorphic to R.

Let [formula] be distinct elements of M. Let [formula] and [formula]. We claim that z is a witness to condition ([formula]). Clearly ui  ~  z for all i. Suppose that vj  ~  z. If vj∈z, then either vj  =  ui (contrary to assumption), or vj  =  x (whence x∈x, contradicting the Axiom of Foundation). If z∈vj, then x∈z∈vj∈x, again contradicting Foundation.

Note how little set theory was actually used: only our ability to gather finitely many elements into a set (a consequence of the Empty Set, Pairing and Union Axioms) and the Axiom of Foundation. In particular, the Axiom of Infinity is not required. Now there is a familiar way to encode finite subsets of [formula] as natural numbers: the set [formula] of distinct elements is encoded as [formula]. This leads to an explicit description of R: the vertex set is [formula]; x and y are adjacent if the xth digit in the base 2 expansion of y is a 1 or vice versa. This description was given by Rado [\cite=ch32:bib42].

The next construction is more number-theoretic. Take as vertices the set [formula] of primes congruent to 1 mod 4. By quadratic reciprocity, if [formula], then [formula] if and only if [formula]. (Here "[formula]" means that p is a quadratic residue mod q.) We declare p and q adjacent if [formula].

Let [formula]. Choose a fixed quadratic residue ai mod ui (for example, ai  =  1), and a fixed non-residue bj mod vj. By the Chinese Remainder Theorem, the congruences

[formula]

have a unique solution [formula]. By Dirichlet's Theorem, there is a prime z satisfying this congruence. So property ([formula]) holds.

A set S of positive integers is called universal if, given [formula] and [formula], there is an integer N such that, for [formula],

[formula]

(It is often convenient to consider binary sequences instead of sets. There is an obvious bijection, under which the sequence σ and the set S correspond when (σi  =  1)  ~    ⇔   ~ (i∈S) -- thus σ is the characteristic function of S. Now a binary sequence σ is universal if and only if it contains every finite binary sequence as a consecutive subsequence.)

Let S be a universal set. Define a graph with vertex set [formula], in which x and y are adjacent if and only if |x - y|∈S. This graph is isomorphic to R. For let [formula] be distinct integers; let l and L be the least and greatest of these integers. Let k  =  L  -  l  +  1 and [formula]. Choose N as in the definition of universality. Then z  =  l  -  1  -  N has the required adjacencies.

The simplest construction of a universal sequence is to enumerate all finite binary sequences and concatenate them. But there are many others. It is straightforward to show that a random subset of [formula] (obtained by choosing positive integers independently with probability [formula]) is almost surely universal. (Said otherwise, the base 2 expansion of almost every real number in

[formula]

Indestructibility

The graph R is remarkably stable: if small changes are made to it, the resulting graph is still isomorphic to R. Some of these results depend on the following analogue of property ([formula]), which appears stronger but is an immediate consequence of ([formula]) itself.

Let [formula] be distinct vertices of R. Then the set

[formula]

is infinite; and the induced subgraph on this set is isomorphic to R.

It is enough to verify property ([formula]) for Z. So let [formula] be distinct vertices of Z. Now the vertex z adjacent to [formula] and not to [formula], belongs to Z and witnesses the truth of this instance of ([formula]) there.

The operation of switching a graph with respect to a set X of vertices is defined as follows. Replace each edge between a vertex of X and a vertex of its complement by a non-edge, and each such non-edge by an edge; leave the adjacencies within X or outside X unaltered. See Seidel [\cite=ch32:bib46] for more properties of this operation.

The result of any of the following operations on R is isomorphic to R:

deleting a finite number of vertices;

changing a finite number of edges into non-edges or vice versa;

switching with respect to a finite set of vertices.

In cases (a) and (b), to verify an instance of property ([formula]), we use Proposition [\ref=ch32:prop3.1] to avoid the vertices which have been tampered with. For (c), if [formula] and [formula], we choose a vertex outside X which is adjacent (in R) to the vertices of [formula] and [formula], and non-adjacent to those of [formula] and [formula].

Not every graph obtained from R by switching is isomorphic to R. For example, if we switch with respect to the neighbours of a vertex x, then x is an isolated vertex in the resulting graph. However, if x is deleted, we obtain R once again! Moreover, if we switch with respect to a random set of vertices, the result is almost certainly isomorphic to R.

R satisfies the pigeonhole principle:

If the vertex set of R is partitioned into a finite number of parts, then the induced subgraph on one of these parts is isomorphic to R.

Suppose that the conclusion is false for the partition [formula] of the vertex set. Then, for each i, property ([formula]) fails in Xi, so there are finite disjoint subsets Ui,Vi of Xi such that no vertex of Xi is "correctly joined" to all vertices of Ui, and to none of Vi. Setting [formula] and [formula], we find that condition ([formula]) fails in R for the sets U and V, a contradiction.

Indeed, this property is characteristic:

The only countable graphs Γ which have the property that, if the vertex set is partitioned into two parts, then one of those parts induces a subgraph isomorphic to Γ, are the complete and null graphs and R.

Suppose that Γ has this property but is not complete or null. Since any graph can be partitioned into a null graph and a graph with no isolated vertices, we see that Γ has no isolated vertices. Similarly, it has no vertices joined to all others.

Now suppose that Γ is not isomorphic to R. Then we can find [formula] and [formula] such that ([formula]) fails, with m + n minimal subject to this. By the preceding paragraph, m  +  n  >  1. So the set [formula] can be partitioned into two non-empty subsets A and B. Now let X consist of A together with all vertices (not in B) which are not "correctly joined" to the vertices in A; and let Y consist of B together with all vertices (not in X) which are not "correctly joined" to the vertices in B. By assumption, X and Y form a partition of the vertex set. Moreover, the induced subgraphs on X and Y fail instances of condition ([formula]) with fewer than m + n vertices; by minimality, neither is isomorphic to Γ, a contradiction.

Finally:

R is isomorphic to its complement.

For property ([formula]) is clearly self-complementary.

Graph-theoretic properties

The most important property of R (and the reason for Rado's interest) is that it is universal:

Every finite or countable graph can be embedded as an induced subgraph of R.

We apply the proof technique of Fact [\ref=ch32:subsec2.1.2]; but, instead of back-and-forth, we just "go forth". Let Γ have vertex set [formula], and suppose that we have a map [formula] which is an isomorphism of induced subgraphs. Let U and V be the sets of neighbours and non-neighbours respectively of xn + 1 in [formula]. Choose z∈R adjacent to the vertices of f(U) and nonadjacent to those of f(V), and extend fn to map xn + 1 to z. The resulting map fn + 1 is still an isomorphism of induced subgraphs. Then [formula] is the required embedding. (The point is that, going forth, we only require that property ([formula]) holds in the target graph.)

In particular, R contains infinite cliques and cocliques. Clearly no finite clique or coclique can be maximal. There do exist infinite maximal cliques and cocliques. For example, if we enumerate the vertices of R as [formula], and build a set S by [formula] where m is the least index of a vertex joined to every vertex in Sn, and [formula], then S is a maximal clique.

Dual to the concept of induced subgraph is that of spanning subgraph, using all the vertices and some of the edges. Not every countable graph is a spanning subgraph of R (for example, the complete graph is not). We have the following characterization:

A countable graph Γ is isomorphic to a spanning subgraph of R if and only if, given any finite set [formula] of vertices of Γ, there is a vertex z joined to none of [formula].

We use back-and-forth to construct a bijection between the vertex sets of Γ and R, but when going back from R to Γ, we only require that nonadjacencies should be preserved.

This shows, in particular, that every infinite locally finite graph is a spanning subgraph (so R contains 1-factors, one- and two-way infinite Hamiltonian paths, etc.). But more can be said.

The argument can be modified to show that, given any non-null locally finite graph Γ, any edge of R lies in a spanning subgraph isomorphic to Γ. Moreover, as in the last section, if the edges of a locally finite graph are deleted from R, the result is still isomorphic to R. Now let [formula] be given non-null locally finite countable graphs. Enumerate the edges of R, as [formula]. Suppose that we have found edge-disjoint spanning subgraphs of R isomorphic to [formula]. Let m be the smallest index of an edge of R lying in none of these subgraphs. Then we can find a spanning subgraph of [formula] containing em and isomorphic to Γn + 1. We conclude:

The edge set of R can be partitioned into spanning subgraphs isomorphic to any given countable sequence of non-null countable locally finite graphs.

In particular, R has a 1-factorization, and a partition into Hamiltonian paths.

Homogeneity and categoricity

We come now to two model-theoretic properties of R. These illustrate two important general theorems, the Engeler-Ryll-Nardzewski-Svenonius theorem and Fraïssé's theorem. The context is first-order logic; so a structure is a set equipped with a collection of relations, functions and constants whose names are specified in the language. If there are no functions or constants, we have a relational structure. The significance is that any subset of a relational structure carries an induced substructure. (In general, a substructure must contain the constants and be closed with respect to the functions.)

Let M be a relational structure. We say that M is homogeneous if every isomorphism between finite induced substructures of M can be extended to an automorphism of M.

R is homogeneous.

In the proof of Fact [\ref=ch32:subsec2.1.2], the back-and-forth machine can be started with any given isomorphism between finite substructures of the graphs Γ1 and Γ2, and extends it to an isomorphism between the two structures. Now, taking Γ1 and Γ2 to be R gives the conclusion.

Fraïssé [\cite=ch32:bib21] observed that [formula] (as an ordered set) is homogeneous, and used this as a prototype: he gave a necessary and sufficient condition for the existence of a homogeneous structure with prescribed finite substructures. Following his terminology, the age of a structure M is the class of all finite structures embeddable in M. A class C of finite structures has the amalgamation property if, given A, B1, B2∈C and embeddings f1:A  →  B1 and f2:A  →  B2, there exists C∈C and embeddings g1:B1  →  C and g2:B2  →  C such that f1g1  =  f2g2. (Less formally, if the two structures B1,B2 have isomorphic substructures A, they can be "glued together" so that the copies of A coincide, the resulting structure C also belonging to the class C.) We allow [formula] here.

A class C of finite structures (over a fixed relational language)is the age of a countable homogeneous structure M if and only if C is closed under isomorphism, closed under taking induced substructures, contains only countably many non-isomorphic structures, and has the amalgamation property.

If the conditions of (a) are satisfied, then the structure M is unique up to isomorphism.

A class C having the properties of this theorem is called a Fraïssé class, and the countable homogeneous structure M whose age is C is its Fraïssé limit. The class of all finite graphs is Fraïssé class; its Fraïssé limit is R. The Fraïssé limit of a class C is characterized by a condition generalizing property ([formula]): If A and B are members of the age of M with A  ⊆  B and |B|  =  |A|  +  1, then every embedding of A into M can be extended to an embedding of B into M.

In the statement of the amalgamation property, when the two structures B1,B2 are "glued together", the overlap may be larger than A. We say that the class C has the strong amalgamation property if this doesn't occur; formally, if the embeddings g1,g2 can be chosen so that, if b1g1  =  b2g2, then there exists a∈A such that b1  =  af1 and b2  =  af2. This property is equivalent to others we have met.

Let M be the Fraïssé limit of the class C, and [formula]. Then the following are equivalent:

C has the strong amalgamation property;

[formula] for any finite subset A of M;

the orbits of GA on [formula] are infinite for any finite subset A of M, where GA is the setwise stabiliser of A.

See Cameron [\cite=ch32:bib6], El-Zahar and Sauer [\cite=ch32:bib15].

A structure M is called [formula]-categorical if any countable structure satisfying the same first-order sentences as M is isomorphic to M. (We must specify countability here: the upward Löwenheim-Skolem theorem shows that, if M is infinite, then there are structures of arbitrarily large cardinality which satisfy the same first-order sentences as M.)

R is [formula]-categorical.

Property ([formula]) is not first-order as it stands, but it can be translated into a countable set of first-order sentences σm,n (for [formula]), where σm,n is the sentence

[formula]

Once again this is an instance of a more general result. An n-type in a structure M is an equivalence class of n-tuples, where two tuples are equivalent if they satisfy the same (n-variable) first-order formulae. Now the following theorem was proved by Engeler [\cite=ch32:bib16], Ryll-Nardzewski [\cite=ch32:bib44] and Svenonius [\cite=ch32:bib49]:

For a countable first-order structure M, the following conditions are equivalent:

M is [formula]-categorical;

M has only finitely many n-types, for every n;

the automorphism group of M has only finitely many orbits on Mn, for every n.

Note that the equivalence of conditions (a) (axiomatizability) and (c) (symmetry) is in the spirit of Klein's Erlanger Programm. The fact that R satisfies (c) is a consequence of its homogeneity, since [formula] and [formula] lie in the same orbit of Aut(R) if and only if the map (xi  →  yi) [formula] is an isomorphism of induced subgraphs, and there are only finitely many n-vertex graphs.

The general definition of an n-type in first-order logic is more complicated than the one given here: roughly, it is a maximal set of n-variable formulae consistent with a given theory. I have used the fact that, in an [formula]-categorical structure, any n-type is realized (i.e., satisfied by some tuple) -- this is a consequence of the Gödel-Henkin completeness theorem and the downward Löwenheim-Skolem theorem. See Hodges [\cite=ch32:bib28] for more details.

Some properties of R can be deduced from either its homogeneity or its [formula]-categoricity. For example, Proposition [\ref=ch32:prop4.1] generalizes. We say that a countable relational structure M is universal (or rich for its age, in Fraïssé's terminology [\cite=ch32:bib22]) if every countable structure N whose age is contained in that of M (i.e., which is younger than M) is embeddable in M.

If M is either [formula]-categorical or homogeneous, then it is universal.

The proof for homogeneous structures follows that of Proposition [\ref=ch32:prop4.1], using the analogue of property ([formula]) described above. The argument for [formula]-categorical structures is a bit more subtle, using Theorem 5.4 and König's Infinity Lemma: see Cameron [\cite=ch32:bib7].

First-order theory of random graphs

The graph R controls the first-order theory of finite random graphs, in a manner I now describe. This theory is due to Glebskii et al. [\cite=ch32:bib24], Fagin [\cite=ch32:bib20], and Blass and Harary [\cite=ch32:bib2]. A property P holds in almost all finite random graphs if the proportion of N-vertex graphs which satisfy P tends to 1 as N  →    ∞  . Recall the sentences σm,n which axiomatize R.

Let θ be a first-order sentence in the language of graph theory. Then the following are equivalent:

θ holds in almost all finite random graphs;

θ holds in the graph R;

θ is a logical consequence of [formula].

The equivalence of (b) and (c) is immediate from the Gödel-Henkin completeness theorem for first-order logic and the fact that the sentences σm,n axiomatize R.

We show that (c) implies (a). First we show that σm,n holds in almost all finite random graphs. The probability that it fails in an N-vertex graph is not greater than [formula], since there are at most Nm + n ways of choosing m  +  n distinct points, and [formula] is the probability that no further point is correctly joined. This probability tends to 0 as N  →    ∞  .

Now let θ be an arbitrary sentence satisfying (c). Since proofs in first-order logic are finite, the deduction of θ involves only a finite set Σ of sentences σm,n. It follows from the last paragraph that almost all finite graphs satisfy the sentences in Σ; so almost all satisfy θ too.

Finally, we show that not (c) implies not (a). If (c) fails, then θ doesn't hold in R, so [formula] holds in R, so [formula] is a logical consequence of the sentences σm,n. By the preceding paragraph, [formula] holds in almost all random graphs.

The last part of the argument shows that there is a zero-one law:

Let θ be a sentence in the language of graph theory. Then either θ holds in almost all finite random graphs, or it holds in almost none.

It should be stressed that, striking though this result is, most interesting graph properties (connectedness, hamiltonicity, etc.) are not first-order, and most interesting results on finite random graphs are obtained by letting the probability of an edge tend to zero in a specified manner as N  →    ∞  , rather than keeping it constant (see Bollobás [\cite=ch32:bib3]). Nevertheless, we will see a recent application of Theorem [\ref=ch32:them6.1] later.

Measure and category

When the existence of an infinite object can be proved by a probabilistic argument (as we did with R in Section [\ref=ch32:sec2.1]), it is often the case that an alternative argument using the concept of Baire category can be found. In this section, I will sketch the tools briefly. See Oxtoby [\cite=ch32:bib39] for a discussion of measure and Baire category.

In a topological space, a set is dense if it meets every nonempty open set; a set is residual if it contains a countable intersection of open dense sets. The Baire category theorem states:

In a complete metric space, any residual set is non-empty.

(The analogous statement for probability is that a set which contains a countable intersection of sets of measure 1 is non-empty. We used this to prove Fact [\ref=ch32:subsec2.1.1].)

The simplest situation concerns the space [formula] of all infinite sequences of zeros and ones. This is a probability space, with the "coin-tossing measure" -- this was the basis of our earlier discussion -- and also a complete metric space, where we define [formula] if the sequences x and y agree in positions [formula] and disagree in position n. Now the topological concepts translate into combinatorial ones as follows. A set S of sequences is open if and only if it is finitely determined, i.e., any x∈S has a finite initial segment such that all sequences with this initial segment are in S. A set S is dense if and only if it is always reachable, i.e., any finite sequence has a continuation lying in S. Now it is a simple exercise to prove the Baire category theorem for this space, and indeed to show that a residual set is dense and has cardinality [formula]. We will say that "almost all sequences have property P (in the sense of Baire category)" if the set of sequences which have property P is residual.

We can describe countable graphs by binary sequences: take a fixed enumeration of the 2-element sets of vertices, and regard the sequence as the characteristic function of the edge set of the graph. This gives meaning to the phrase "almost all graphs (in the sense of Baire category)". Now, by analogy with Fact [\ref=ch32:subsec2.1.1], we have:

Almost all countable graphs (in the sense of either measure or Baire category) have property ([formula]).

The proof is an easy exercise. In fact, it is simpler for Baire category than for measure -- no limit is required!

In the same way, almost all binary sequences (in either sense) are universal (as defined in Section [\ref=ch32:sec2.2]).

A binary sequence defines a path in the binary tree of countable height, if we start at the root and interpret 0 and 1 as instructions to take the left or right branch at any node. More generally, given any countable tree, the set of paths is a complete metric space, where we define the distance between two paths to be [formula] if they first split apart at level n in the tree. So the concept of Baire category is applicable. The combinatorial interpretation of open and dense sets is similar to that given for the binary case.

For example, the age of a countable relational structure M can be described by a tree: nodes at level n are structures in the age which have point set [formula], and nodes Xn,Xn + 1 at levels n and n + 1 are declared to be adjacent if the induced structure of Xn + 1 on the set [formula] is Xn. A path in this tree uniquely describes a structure N on the natural numbers which is younger than M, and conversely. Now Fact [\ref=ch32:subsec2.7.1] generalizes as follows:

If M is a countable homogeneous relational structure, then almost all countable structures younger than M are isomorphic to M.

It is possible to formulate analogous concepts in the measure-theoretic framework, though with more difficulty. But the results are not so straightforward. For example, almost all finite triangle-free graphs are bipartite (a result of Erds, Kleitman and Rothschild [\cite=ch32:bib17]); so the "random countable triangle-free graph" is almost surely bipartite. (In fact, it is almost surely isomorphic to the "random countable bipartite graph", obtained by taking two disjoint countable sets and selecting edges between them at random.)

A structure which satisfies the conclusion of Proposition [\ref=ch32:prop7.1] is called ubiquitous (or sometimes ubiquitous in category, if we want to distinguish measure-theoretic or other forms of ubiquity). Thus the random graph is ubiquitous in both measure and category. See Bankston and Ruitenberg [\cite=ch32:bib1] for further discussion.

The automorphism group

General properties

From the homogeneity of R (Proposition [\ref=ch32:prop5.1]), we see that it has a large and rich group of automorphisms: the automorphism group [formula] acts transitively on the vertices, edges, non-edges, etc. -- indeed, on finite configurations of any given isomorphism type. In the language of permutation groups, it is a rank 3 permutation group on the vertex set, since it has three orbits on ordered pairs of vertices, viz., equal, adjacent and non-adjacent pairs. Much more is known about G; this section will be the longest so far.

First, the cardinality:

[formula].

This is a special case of a more general fact. The automorphism group of any countable first-order structure is either at most countable or of cardinality [formula], the first alternative holding if and only if the stabilizer of some finite tuple of points is the identity.

The normal subgroup structure was settled by Truss [\cite=ch32:bib51]:

[formula] is simple.

Truss proved a stronger result: if g and h are two non-identity elements of [formula], then h can be expressed as a product of five conjugates of g or g- 1. (This clearly implies simplicity.) Recently Macpherson and Tent [\cite=ch32:new11] gave a different proof of simplicity which applies in more general situations.

Truss also described the cycle structures of all elements of [formula].

A countable structure M is said to have the small index property if any subgroup of [formula] with index less than [formula] contains the pointwise stabilizer of a finite set of points of Mi; it has the strong small index property if any such subgroup lies between the pointwise and setwise stabilizer of a finite set. Hodges et al. [\cite=ch32:bib29] and Cameron [\cite=ch32:new4] showed:

R has the strong small index property.

The significance of this appears in the next subsection. It is also related to the question of the reconstruction of a structure from its automorphism group. For example, Theorem [\ref=ch32:them8.2] has the following consequence:

Let Γ be a graph with fewer than [formula] vertices, on which [formula] acts transitively on vertices, edges and non-edges. Then Γ is isomorphic to R (and the isomorphism respects the action of [formula]).

Topology

The symmetric group [formula] on an infinite set X has a natural topology, in which a neighbourhood basis of the identity is given by the pointwise stabilizers of finite tuples. In the case where X is countable, this topology is derived from a complete metric, as follows. Take [formula].

Let m(g) be the smallest point moved by the permutation g. Take the distance between the identity and g to be max {2- m(g),2- m(g- 1)}. Finally, the metric is translation-invariant, so that d(f,g) = d(fg- 1,1).

Let G be a subgroup of the symmetric group on a countable set X. Then the following are equivalent:

G is closed in [formula];

G is the automorphism group of a first-order structure on X;

G is the automorphism group of a homogeneous relational structure on X.

So automorphism groups of homogeneous relational structures such as R are themselves topological groups whose topology is derived from a complete metric.

In particular, the Baire category theorem applies to groups like [formula]. So we can ask: is there a "typical" automorphism? Truss [\cite=ch32:bib53] showed the following result.

There is a conjugacy class which is residual in [formula]. Its members have infinitely many cycles of each finite length, and no infinite cycles.

Members of the residual conjugacy class (which is, of course, unique) are called generic automorphisms of R. I outline the argument. Each of the following sets of automorphisms is residual:

those with no infinite cycles;

those automorphisms g with the property that, if Γ is any finite graph and f any isomorphism between subgraphs of Γ, then there is an embedding of Γ into R in such a way that g extends f.

(Here (a) holds because the set of automorphisms for which the first n points lie in finite cycles is open and dense.) In fact, (b) can be strengthened; we can require that, if the pair (Γ,f) extends the pair (Γ0,f0) (in the obvious sense), then any embedding of Γ0 into R such that g extends f0 can be extended to an embedding of Γ such that g extends f. Then a residual set of automorphisms satisfy both (a) and the strengthened (b); this is the required conjugacy class.

Another way of expressing this result is to consider the class C of finite structures each of which is a graph Γ with an isomorphism f between two induced subgraphs (regarded as a binary relation). This class satisfies Fraïssé's hypotheses, and so has a Fraïssé limit M. It is not hard to show that, as a graph, M is the random graph R; arguing as above, the map f can be shown to be a (generic) automorphism of R.

More generally, Hodges et al. [\cite=ch32:bib29] showed that there exist "generic n-tuples" of automorphisms of R, and used this to prove the small index property for R; see also Hrushovski [\cite=ch32:bib30]. The group generated by a generic n-tuple of automorphisms is, not surprisingly, a free group; all its orbits are finite. In the next subsection, we turn to some very different subgroups.

To conclude this section, we revisit the strong small index property. Recall that a neighbourhood basis for the identity consists of the pointwise stabilisers of finite sets. If the strong small index property holds, then every subgroup of small index (less than [formula]) contains one of these, and so is open. So we can take the subgroups of small index as a neighbourhood basis of the identity. So we have the following reconstruction result:

If M is a countable structure with the strong small index property (for example, R), then the structure of [formula] as topological group is determined by its abstract group structure.

Subgroups

Another field of study concerns small subgroups. To introduce this, we reinterpret the last construction of R in Section [\ref=ch32:sec2.2]. Recall that we took a universal set [formula], and showed that the graph Γ(S) with vertex set [formula], in which x and y are adjacent whenever |x - y|∈S, is isomorphic to R. Now this graph admits the "shift" automorphism x  ↦  x  +  1, which permutes the vertices in a single cycle. Conversely, let g be a cyclic automorphism of R. We can index the vertices of R by integers so that g is the map x  ↦  x  +  1. Then, if [formula], we see that x  ~  y if and only if |x - y|∈S, and that S is universal. A short calculation shows that two cyclic automorphisms are conjugate in [formula] if and only if they give rise to the same set S. Since there are [formula] universal sets, we conclude:

R has [formula] non-conjugate cyclic automorphisms.

(Note that this gives another proof of Proposition [\ref=ch32:prop8.1].)

Almost all subsets of [formula] are universal -- this is true in either sense discussed in Section [\ref=ch32:sec2.7]. The construction preceding Proposition [\ref=ch32:prop8.2] shows that graphs admitting a given cyclic automorphism correspond to subsets of [formula]; so almost all "cyclic graphs" are isomorphic to R. What if the cyclic permutation is replaced by an arbitrary permutation or permutation group? The general answer is unknown:

Given a permutation group G on a countable set, the following are equivalent:

some G-invariant graph is isomorphic to R;

a random G-invariant graph is isomorphic to R with positive probability.

A random G-invariant graph is obtained by listing the orbits of G on the 2-subsets of the vertex set, and deciding randomly whether the pairs in each orbit are edges or not. We cannot replace "positive probability" by "probability 1" here. For example, consider a permutation with one fixed point x and two infinite cycles. With probability [formula], x is joined to all or none of the other vertices; if this occurs, the graph is not isomorphic to R. However, almost all graphs for which this event does not occur are isomorphic to R. It can be shown that the conjecture is true for the group generated by a single permutation; and Truss' list of cycle structures of automorphisms can be re-derived in this way.

Another interesting class consists of the regular permutation groups. A group is regular if it is transitive and the stabilizer of a point is the identity. Such a group G can be considered to act on itself by right multiplication. Then any G-invariant graph is a Cayley graph for G; in other words, there is a subset S of G, closed under inverses and not containing the identity, so that x and y are adjacent if and only if xy- 1∈S. Now we can choose a random Cayley graph for G by putting inverse pairs into S with probability [formula]. It is not true that, for every countable group G, a random Cayley graph for G is almost surely isomorphic to R. Necessary and sufficient conditions can be given; they are somewhat untidy. I will state here a fairly general sufficient condition.

A square-root set in G is a set

[formula]

it is principal if a  =  1, and non-principal otherwise.

Suppose that the countable group G cannot be expressed as the union of finitely many translates of non-principal square-root sets and a finite set. Then almost all Cayley graphs for G are isomorphic to R.

This proposition is true in the sense of Baire category as well. In the infinite cyclic group, a square-root set has cardinality at most 1; so the earlier result about cyclic automorphisms follows. See Cameron and Johnson [\cite=ch32:bib9] for further details.

Overgroups

There are a number of interesting overgroups of [formula] in the symmetric group on the vertex set X of R.

Pride of place goes to the reducts, the overgroups which are closed in the topology on [formula] (that is, which are automorphism groups of relational structures which can be defined from R without parameters). These were classified by Simon Thomas [\cite=ch32:bib50].

An anti-automorphism of R is an isomorphism from R to its complement; a switching automorphism maps R to a graph equivalent to R by switching. The concept of a switching anti-automorphism should be clear.

There are exactly five reducts of R, viz.: [formula]; the group D of automorphisms and anti-automorphisms of R; the group S of switching automorphisms of R; the group B of switching automorphisms and anti-automorphisms of R; and the symmetric group.

The set of all graphs on a given vertex set is a [formula]-vector space, where the sum of two graphs is obtained by taking the symmetric difference of their edge sets. Now complementation corresponds to adding the complete graph, and switching to adding a complete bipartite graph. Thus, it follows from Theorem [\ref=ch32:them8.3] that, if G is a closed supergroup of [formula], then the set of all images of R under G is contained in a coset of a subspace W(G) of this vector space. (For example, W(B) consists of all complete bipartite graphs and all unions of at most two complete graphs.) Moreover, these subspaces are invariant under the symmetric group. It is remarkable that the combinatorial proof leads to this algebraic conclusion.

Here is an application due to Cameron and Martins [\cite=ch32:bib10], which draws together several threads from earlier sections. Though it is a result about finite random graphs, the graph R is inextricably involved in the proof.

Let F be a finite collection of finite graphs. For any graph Γ, let F(Γ) be the hypergraph whose vertices are those of Γ, and whose edges are the subsets which induce graphs in F. To what extent does F(Γ) determine Γ?

Given F, one of the following possibilities holds for almost all finite random graphs Γ:

F(Γ) determines Γ uniquely;

F(Γ) determines Γ up to complementation;

F(Γ) determines Γ up to switching;

F(Γ) determines Γ up to switching and/or complementation;

F(Γ) determines only the number of vertices of Γ.

I sketch the proof in the first case, that in which F is not closed under either complementation or switching. We distinguish two first-order languages, that of graphs and that of hypergraphs (with relations of the arities appropriate for the graphs in F). Any sentence in the hypergraph language can be "translated" into the graph language, by replacing "E is an edge" by "the induced subgraph on E is one of the graphs in F".

By the case assumption and Theorem [\ref=ch32:them8.3], we have [formula]. Now by Theorem [\ref=ch32:them5.2], the edges and non-edges in R are 2-types in F(R), so there is a formula φ(x,y) (in the hypergraph language) such that x  ~  y in R if and only if φ(x,y) holds in F(R). If [formula] is the "translation" of φ, then R satisfies the sentence

[formula]

By Theorem [\ref=ch32:them6.1], this sentence holds in almost all finite graphs. Thus, in almost all finite graphs, Γ, vertices x and y are joined if and only if φ(x,y) holds in F(Γ). So F(Γ) determines Γ uniquely.

By Theorem [\ref=ch32:them8.3], [formula] must be one of the five possibilities listed; in each case, an argument like the one just given shows that the appropriate conclusion holds.

There are many interesting overgroups of [formula] which are not closed, some of which are surveyed (and their inclusions determined) in a forthcoming paper of Cameron et al. [\cite=ch32:new5]. These arise in one of two ways.

First, we can take automorphism groups of non-relational structures, such as hypergraphs with infinite hyperedges (for example, take the hyperedges to be the subsets of the vertex set which induce subgraphs isomorphic to R), or topologies or filters (discussed in the next section). Second, we may weaken the notion of automorphism. For example, we have a chain of subgroups

[formula]

with all inclusions proper, where

[formula] is the set of permutations which change only finitely many adjacencies (such permutations are called almost automorphisms of R);

[formula] is the set of permutations which change only finitely many adjacencies at any vertex of R;

[formula] is the set of permutations which change only finitely many adjacencies at all but finitely many vertices of R.

All these groups are highly transitive, that is, given any two n-tuples [formula] and [formula] of distinct vertices, there is an element of the relevant group carrying the first tuple to the second. This follows from [formula] by the indestructibility of R. If R1 and R2 are the graphs obtained by deleting all edges within [formula] and within [formula] respectively, then R1 and R2 are both isomorphic to R. By homogeneity of R, there is an isomorphism from R1 to R2 mapping [formula] to [formula]; clearly this map is an almost-automorphism of R.

Indeed, any overgroup of R which is not a reduct preserves no non-trivial relational structure, and so must be highly transitive.

Topological aspects

There is a natural way to define a topology on the vertex set of R: we take as a basis for the open sets the set of all finite intersections of vertex neighbourhoods. It can be shown that this topology is homeomorphic to [formula] (using the characterization of [formula] as the unique countable, totally disconnected, topological space without isolated points, due to Sierpiiski [\cite=ch32:bib48], see also Neumann [\cite=ch32:bib38]). Thus:

[formula] is a subgroup of the homeomorphism group of [formula].

This is related to a theorem of Mekler [\cite=ch32:bib36]:

A countable permutation group G is embeddable in the homeomorphism group of [formula] if and only if the intersection of the supports of any finite number of elements of G is empty or infinite.

Here, the support of a permutation is the set of points it doesn't fix. Now of course [formula] is not countable; yet it does satisfy Mekler's condition. (If x is moved by each of the automorphisms [formula], then the infinitely many vertices joined to x but to none of [formula] are also moved by these permutations.)

The embedding in Proposition [\ref=ch32:prop9.1] can be realised constructively: the topology can be defined directly from the graph. Take a basis for the open sets to be the sets of witnesses for our defining property ( * ); that is, sets of the form

[formula]

for finite disjoint sets U and V. Now given u  ≠  v, there is a point z∈Z({u},{v}); so the open neighbourhood of z is open and closed in the topology and contains u but not v. So the topology is totally disconnected. It has no isolated points, so it is homeomorphic to [formula], by Sierpiski's Theoreom.

There is another interesting topology on the vertex set of R, which can be defined in three different ways. Let B be the "random bipartite graph", the graph with vertex set [formula] where X and Y are countable and disjoint, where edges between X and Y are chosen randomly. (A simple modification of the Erds-Rényi argument shows that there is a unique graph which occurs with probability 1.) Now consider the following topologies on a countable set X:

The three topologies defined above are all homeomorphic.

The homeomorphism groups of these topologies are highly transitive.

Note that the topologies are homeomorphic but not identical. For example, the identity map is a continuous bijection from T* to T, but is not a homeomorphism.

Some other structures

General results

As we have seen, R has several properties of a general kind: for example, homogeneity, [formula]-categoricity, universality, ubiquity. Much effort has gone into studying, and if possible characterizing, structures of other kinds with these properties. (For example, they are all shared by the ordered set [formula].)

Note that, of the four properties listed, the first two each imply the third, and the first implies the fourth. Moreover, a homogeneous structure over a finite relational language is [formula]-categorical, since there are only finitely many isomorphism types of n-element structure for each n. Thus, homogeneity is in practice the strongest condition, most likely to lead to characterizations.

A major result of Lachlan and Woodrow [\cite=ch32:bib35] determines the countable homogeneous graphs. The graphs Hn in this theorem are so-called because they were first constructed by Henson [\cite=ch32:bib26].

A countable homogeneous graph is isomorphic to one of the following:

the disjoining union of m complete graphs of size n, where [formula] and at least one of m and n is [formula];

complements of (a);

the Fraïssé limit Hn of the class of Kn-free graphs, for fixed n  ≥  3;

complements of (c);

the random graph R.

The result of Macpherson and Tent [\cite=ch32:new11] shows that the automorphism groups of the Henson graphs are simple. It follows from Proposition [\ref=ch32:reconst] that [formula] is not isomorphic to [formula]. It is not known whether these groups are pairwise non-isomorphic.

Other classes in which the homogeneous structures have been determined include finite graphs (Gardiner [\cite=ch32:bib23]), tournaments (Lachlan [\cite=ch32:bib34] -- surprisingly, there are just three), digraphs (Cherlin [\cite=ch32:bib12] (there are uncountably many, see Henson [\cite=ch32:bib27]), and posets (Schmerl [\cite=ch32:bib45]). In the case of posets, Droste [\cite=ch32:bib14] has characterizations under weaker assumptions.

For a number of structures, properties of the automorphism group, such as normal subgroups, small index property, or existence of generic automorphisms, have been established.

A theorem of Cameron [\cite=ch32:bib4] determines the reducts of [formula]:

There are just five closed permutation groups containing the group [formula] of order-preserving permutations of [formula], viz.: [formula]; the group of order preserving or reversing permutations; the group of permutations preserving a cyclic order; the group of permutations preserving or reversing a cyclic order; and [formula].

However, there is no analogue of Theorem [\ref=ch32:them8.4] in this case, since there is no Glebskii-B1ass-Fagin-Harary theory for ordered sets. ([formula] is dense; this is a first-order property, but no finite ordered set is dense.)

Simon Thomas [\cite=ch32:new15] has determined the reducts of the random k-uniform hypergraph for all k.

Since my paper with Paul Erds concerns sum-free sets (Cameron and Erds [\cite=ch32:bib8]), it is appropriate to discuss their relevance here. Let Hn be the Fraïssé limit of the class of Kn-free graphs, for n  ≥  3 (see Theorem [\ref=ch32:them10.1]). These graphs were first constructed by Henson [\cite=ch32:bib26], who also showed that H3 admits cyclic automorphisms but Hn does not for n  >  3. We have seen how a subset S of [formula] gives rise to a graph Γ(S) admitting a cyclic automorphism: the vertex set is [formula], and x  ~  y if and only if |x  -  y|∈S. Now Γ(S) is triangle-free if and only if S is sum-free (i.e., x,y∈S  ⇒  x  +  y∉S). It can be shown that, for almost all sum-free sets S (in the sense of Baire category), the graph Γ(S) is isomorphic to H3; so H3 has [formula] non-conjugate cyclic automorphisms. However, the analogue of this statement for measure is false; and, indeed, random sum-free sets have a rich and surprising structure which is not well understood (Cameron [\cite=ch32:bib5]). For example, the probability that Γ(S) is bipartite is approximately 0.218. It is conjectured that a random sum-free set S almost never satisfies [formula]. In this direction, Schoen [\cite=ch32:new14] has shown that, if [formula], then S has density zero.

The Henson Kn-free graphs Hn, being homogeneous, are ubiquitous in the sense of Baire category: for example, the set of graphs isomorphic to H3 is residual in the set of triangle-free graphs on a given countable vertex set (so H3 is ubiquitous, in the sense defined earlier). However, until recently, no measure-theoretic analogue was known. We saw after Proposition [\ref=ch32:prop7.1] that a random triangle-free graph is almost surely bipartite! However, Petrov and Vershik [\cite=ch32:new13] recently managed to construct an exchangeable measure on graphs on a given countable vertex set which is concentrated on Henson's graph. More recently, Ackerman, Freer and Patel showed that the construction works much more generally: the necessary and sufficient condition turns out to be the strong amalgamation property, which we discussed in Section [\ref=ch32:sec2.5].

Universality of a structure M was defined in a somewhat introverted way in Section [\ref=ch32:sec2.5]: M is universal if every structure younger than M is embeddable in M. A more general definition would start with a class C of structures, and say that M∈C is universal for C if every member of C embeds into M. For a survey on this sort of universality, for various classes of graphs, see Komjath and Pach [\cite=ch32:bib33]. Two negative results, for the classes of locally finite graphs and of planar graphs, are due to De Bruijn (see Rado [\cite=ch32:bib42]) and Pach [\cite=ch32:bib40] respectively.

The Urysohn space

A remarkable example of a homogeneous structure is the celebrated Urysohn space, whose construction predates Fraïssé's work by more than two decades. Urysohn's paper [\cite=ch32:new16] was published posthumously, following his drowning in the Bay of Biscay at the age of 26 on his first visit to western Europe (one of the most romantic stories in mathematics). An exposition of the Urysohn space is given by Vershik [\cite=ch32:new17].

The Urysohn space is a complete separable metric space [formula] which is universal (every finite metric space is isometrically embeddable in [formula]) and homogeneous (any isometry between finite subsets can be extended to an isometry of the whole space). Since [formula] is uncountable, it is not strictly covered by the Fraïssé theory, but one can proceed as follows. The set of finite rational metric spaces (those with all distances rational) is a Fraïssé class; the restriction to countable distances ensures that there are only countably many non-isomorphic members. Its Fraïssé limit is the so-called rational Urysohn space [formula]. Now the Urysohn space is the completion of [formula].

Other interesting homogeneous metric spaces can be constructed similarly, by restricting the values of the metric in the finite spaces. For example, we can take integral distances, and obtain the integral Urysohn space [formula]. We can also take distances from the set [formula] and obtain a countable homogeneous metric space with these distances. For k = 2, we obtain precisely the path metric of the random graph R. (Property [formula] guarantees that, given two points at distance 2, there is a point at distance 1 from both; so, defining two points to be adjacent if they are at distance 1, we obtain a graph whose path metric is the given metric. It is easily seen that this graph is isomorphic to R.)

Note that R occurs in many different ways as a reduct of [formula]. Split the positive rationals into two dense subsets A and B, and let two points v,w be adjacent if d(v,w)∈A; the graph we obtain is R.

A study of the isometry group of the Urysohn space, similar to that done for R, was given by Cameron and Vershik [\cite=ch32:new7]. The automorphism group is not simple, since the isometries which move every point by a bounded distance form a non-trivial normal subgroup.

KPT theory

I conclude with a brief discussion of a dramatic development at the interface of homogeneous structures, Ramsey theory, and topological dynamics.

The first intimation of such a connection was pointed out by Neetil [\cite=ch32:new10], and in detail in Hubika and Neetil [\cite=ch32:new9]. We use the notation [formula] for the set of all substructures of A isomorphic to B. A class C of finite structures is a Ramsey class if, given a natural number r and a pair A,B of structures in C, there exists a structure C∈C such that, if [formula] is partitioned into r classes, then there is an element [formula] for which [formula] is contained in a single class. In other words, if we colour the A-substructures of C with r colours, then there is a B-substructure of C, all of whose A-substructures belong to the same class. The classical theorem of Ramsey asserts that the class of finite sets is a Ramsey class.

A hereditary, isomorphism-closed Ramsey class is a Fraïssé class.

There are simple examples which show that a good theory of Ramsey classes can only be obtained by making the objects rigid. The simplest way to do this is to require that a total order is part of the structure. Note that, if a Fraïssé class has the strong amalgamation property, than we may adjoin to it a total order (independent of the rest of the structure) to obtain a new Ramsey class. We refer to ordered structures in this situation. Now the theorem above suggests a procedure for finding Ramsey classes: take a Fraïssé class of ordered structures and test the Ramsey property. A number of Ramsey classes, old and new, arise in this way: ordered graphs, Kn-free graphs, metric spaces, etc. Indeed, if we take an ordered set and "order" it as above to obtain a set with two orderings, we obtain the class of permutation patterns, which is also a Ramsey class: see Cameron [\cite=ch32:new2], Böttcher and Foniok [\cite=ch32:new4].

The third vertex of the triangle was quite unexpected.

A flow is a continuous action of a topological group G on a topological space X, usually assumed to be a compact Hausdorff space. A topological group G admits a unique minimal flow, or universal minimal continuous action on a compact space X. (Here minimal means that X has no non-empty proper closed G-invariant subspace, and universal means that it can be mapped onto any minimal G-flow.)

The group G is said to be extremely amenable if its minimal flow consists of a single point.

The theorem of Kechris, Pestov and Todorcevic [\cite=ch32:new10] asserts:

Let X be a countable set, and G a closed subgroup of [formula]. Then G is extremely amenable if and only if it is the automorphism group of a homogeneous structure whose age is a Ramsey class of ordered structures.

As a simple example, the theorem shows that [formula] (the group of order-preserving permutations of [formula] is extremely amenable (a result of Pestov).

The fact that the two conditions are equivalent allows information to be transferred in both directions between combinatorics and topological dynamics. In particular, known Ramsey classes such as ordered graphs, ordered Kn-free graphs, ordered metric spaces, and permutation patterns give examples of extremely amenable groups.

The theorem can also be used in determining the minimal flows for various closed subgroups of [formula]. For example, the minimal flow for [formula] is the set of all total orderings of X (a result of Glasner and Weiss [\cite=ch32:new8]).